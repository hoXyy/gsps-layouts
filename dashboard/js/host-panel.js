(()=>{"use strict";var t,e={9901:(t,e,n)=>{var r=n(1151),o=n(9193),i=n(3231),a=n(5287),s=n(6324),l=n(9526),d=n(5506),u=n(8209);var c=n(1902);const p=(0,c.Z)({name:"ReaderPanelTotal",props:["total"]},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"grey darken-4 rounded-lg",style:{textAlign:"center"}},[e("b",{style:{fontSize:"48px"}},[t._v(t._s(t.total.formatted))])])}),[],!1,null,"0524371b",null).exports,f=n(5465).Z.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}});var v=n(6010),h=n(1994),m=n(1197),_=n(6655),b=n(526),g=n(4355),y=n(3474),w=n.n(y),x=n(8578),C=n.n(x),O=n(469),P=n.n(O),k=n(5381),S=n.n(k),Z=n(9298),R=n.n(Z),j=n(8979),T=n.n(j);w().extend(C()),w().extend(S()),w().extend(R()),w().extend(P());const L={name:"ReaderPanelBidGoal",props:["bid"],computed:{progress:{get(){return(this.bid.rawTotal/this.bid.rawGoal*100).toFixed(1)}},amountLeft:{get(){return(this.bid.rawGoal-this.bid.rawTotal).toFixed(0)}},etaUntil(){return this.bid.runStartTime?w().unix(this.bid.runStartTime/1e3).tz("Europe/Warsaw").locale(T()).fromNow(!0):void 0},formattedDate(){return w().unix(this.bid.runStartTime/1e3).tz("Europe/Warsaw").locale(T()).format("LLL")}}},z=(0,c.Z)(L,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"rounded pa-2 ma-1 darken-3",class:"CLOSED"===t.bid.state?"green":"grey",staticStyle:{border:"1px solid white"}},[e(g.Z,{attrs:{"no-gutters":""}},[e(b.Z,{attrs:{cols:"12"}},[e("h2",{style:{overflowWrap:"break-word"}},[t._v("\n        "+t._s(t.bid.game)+" - "+t._s(t.bid.name)+"\n      ")]),t._v(" "),e("h5",[e(_.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:r}){return[t.etaUntil?e("i",t._g(t._b({},"i",r,!1),n),[t._v("Ten run odbędzie się planowo za ok. "+t._s(t.etaUntil))]):t._e()]}}])},[t._v(" "),e("span",[t._v(t._s(t.formattedDate))])])],1),t._v(" "),t.bid.longDescription?e("h5",[t._v(t._s(t.bid.longDescription))]):t._e()]),t._v(" "),e(h.Z,{attrs:{value:t.progress,rounded:"",height:"19"}},[[e("strong",[t._v(t._s(t.bid.total)+" / "+t._s(t.bid.goal)+"\n          "),"CLOSED"!=t.bid.state?[t._v("\n            (Pozostało "+t._s(t.amountLeft)+" zł)")]:t._e()],2)]],2)],1)],1)}),[],!1,null,null,null).exports;w().extend(C()),w().extend(S()),w().extend(R()),w().extend(P());const D={name:"ReaderPanelBidWar",props:["bid"],methods:{getProgress(t){return(t.rawTotal/this.bid.rawTotal*100).toFixed(1)}},computed:{etaUntil(){return this.bid.runStartTime?w().unix(this.bid.runStartTime/1e3).tz("Europe/Warsaw").locale(T()).fromNow(!0):void 0},formattedDate(){return w().unix(this.bid.runStartTime/1e3).tz("Europe/Warsaw").locale(T()).format("LLL")}}},B={name:"ReaderPanelBids",data:()=>({bidfilter:"",updating:!1,refreshTimer:void 0,timeLeft:20,timestamp:Date.now()}),components:{ReaderPanelBidGoal:z,ReaderPanelBidWar:(0,c.Z)(D,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"rounded pa-2 ma-1 darken-3",class:"CLOSED"===t.bid.state?"green":"grey",staticStyle:{border:"1px solid white"}},[e(g.Z,{attrs:{"no-gutters":""}},[e(b.Z,{attrs:{cols:"12"}},[e("h2",{style:{overflowWrap:"break-word"}},[t._v("\n        "+t._s(t.bid.game)+" - "+t._s(t.bid.name)+"\n      ")]),t._v(" "),e("h5",[e(_.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:r}){return[t.etaUntil?e("i",t._g(t._b({},"i",r,!1),n),[t._v("Ten run odbędzie się planowo za ok. "+t._s(t.etaUntil))]):t._e()]}}])},[t._v(" "),e("span",[t._v(t._s(t.formattedDate))])])],1),t._v(" "),t.bid.longDescription?e("h5",[t._v(t._s(t.bid.longDescription))]):t._e()]),t._v(" "),e("div",{staticStyle:{width:"100%"}},[t._l(t.bid.options,(function(n,r){return t.bid.options.length>0?[e("h3",{style:{overflowWrap:"break-word"}},[t._v("\n          "+t._s(r+1)+". "+t._s(n.name)+" - "+t._s(n.total)+"\n        ")]),t._v(" "),e(h.Z,{attrs:{value:t.getProgress(n),rounded:"",height:"10"}})]:e("h3",[t._v("Brak opcji")])}))],2)],1)],1)}),[],!1,null,null,null).exports},props:["bids"],methods:{bidName:t=>`${t.game} - ${t.name}`.toLowerCase(),updateBids(){nodecg.sendMessage("updateBids")},startRefreshCountdown(){this.refreshTimer=setInterval((()=>{1==this.timeLeft&&(clearInterval(this.refreshTimer),this.timeLeft=0),this.timeLeft-=1}),1e3)}},mounted(){nodecg.listenFor("bids:updating",(()=>{clearInterval(this.refreshTimer),this.updating=!0})),nodecg.listenFor("bids:updated",(()=>{this.timeLeft=20,this.startRefreshCountdown(),this.updating=!1,this.timestamp=Date.now()})),this.startRefreshCountdown()}},E=(0,c.Z)(B,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"grey darken-4 rounded-lg",staticStyle:{height:"600px",width:"600px",display:"flex","flex-direction":"column"},attrs:{id:"bids"}},[e("h3",{staticClass:"grey darken-3 pa-1 rounded-tl-lg rounded-tr-lg",staticStyle:{width:"100%","text-align":"center",position:"sticky"}},[t._v("\n      LICYTACJE\n    ")]),t._v(" "),e("div",{attrs:{id:"refreshCountdown"}},[e(h.Z,{attrs:{indeterminate:t.updating,value:(t.timeLeft/20*100).toFixed(1),height:"12"}}),t._v(" "),e("div",{staticClass:"mt-3"},[t.updating?e("p",[t._v("Odświeżam...")]):e("p",[t._v("\n          Odświeżam za "),e("b",[t._v(t._s(t.timeLeft))]),t._v(" sekund...\n        ")])])],1),t._v(" "),e(f),t._v(" "),e("div",{staticClass:"mx-3",attrs:{id:"filter"}},[e(m.Z,{staticClass:"mt-6",attrs:{dense:"",outlined:"",placeholder:"Filtruj...",clearable:""},model:{value:t.bidfilter,callback:function(e){t.bidfilter=e},expression:"bidfilter"}}),t._v(" "),e(_.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:r}){return[e(s.Z,t._g(t._b({staticClass:"mt-4 ml-2",attrs:{disabled:t.updating,loading:t.updating,fab:""},on:{click:t.updateBids}},"v-btn",r,!1),n),[e(v.Z,[t._v("mdi-refresh")])],1)]}}])},[t._v(" "),e("span",[t._v("Odśwież licytacje ręcznie")])])],1),t._v(" "),e(f),t._v(" "),e("div",{staticClass:"pa-2",staticStyle:{height:"100%",overflow:"auto"}},[e("div",{attrs:{id:"open-bids"}},[t._l(t.bids,(function(n){return["challenge"===n.type&&t.bidName(n).includes(t.bidfilter)&&"OPENED"===n.state?e("reader-panel-bid-goal",{key:t.timestamp+n.id,attrs:{bid:n}}):t._e(),t._v(" "),"challenge"!=n.type&&t.bidName(n).includes(t.bidfilter)&&"OPENED"===n.state?e("reader-panel-bid-war",{key:t.timestamp+n.id,attrs:{bid:n}}):t._e()]}))],2),t._v(" "),e("div",{attrs:{id:"closed-bids"}},[t._l(t.bids,(function(n){return["challenge"===n.type&&t.bidName(n).includes(t.bidfilter)&&"CLOSED"===n.state?e("reader-panel-bid-goal",{key:t.timestamp+n.id,attrs:{bid:n}}):t._e(),t._v(" "),"challenge"!=n.type&&t.bidName(n).includes(t.bidfilter)&&"CLOSED"===n.state?e("reader-panel-bid-war",{key:t.timestamp+n.id,attrs:{bid:n}}):t._e()]}))],2)])],1)])}),[],!1,null,"443b4b38",null).exports,F={name:"ReaderPanelMilestone",props:["milestone","met","total"],computed:{progress:{get(){return(this.total/this.milestone.amount*100).toFixed(1)}},amountLeft:{get(){return(this.milestone.amount-this.total).toFixed(0)}}}},M={name:"ReaderPanelMilestones",props:["milestones","total"],data:()=>({filter:"",updating:!1}),components:{ReaderPanelMilestone:(0,c.Z)(F,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"rounded pa-2 ma-1 darken-3",class:t.met?"green":"grey",staticStyle:{border:"1px solid white"}},[e(g.Z,{attrs:{"no-gutters":""}},[e(b.Z,{attrs:{cols:"12"}},[e("h2",[t._v(t._s(t.milestone.name))])]),t._v(" "),e(h.Z,{attrs:{value:t.progress,rounded:"",height:"19"}},[[e("strong",[t._v(t._s(t.total)+" zł / "+t._s(t.milestone.amount)+" zł\n          "),t.met?t._e():[t._v("\n            (Pozostało "+t._s(t.amountLeft)+" zł)")]],2)]],2)],1)],1)}),[],!1,null,null,null).exports},methods:{update(){nodecg.sendMessage("updateMilestones")}},mounted(){nodecg.listenFor("milestones:updating",(()=>{clearInterval(this.refreshTimer),this.updating=!0})),nodecg.listenFor("milestones:updated",(()=>{this.updating=!1}))}},A=(0,c.Z)(M,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"grey darken-4 rounded-lg",staticStyle:{height:"517px",width:"500px",display:"flex","flex-direction":"column"},attrs:{id:"milestones"}},[e("h3",{staticClass:"grey darken-3 pa-1 rounded-tl-lg rounded-tr-lg",staticStyle:{width:"100%","text-align":"center",position:"sticky"}},[t._v("\n    CELE\n  ")]),t._v(" "),e("div",{staticClass:"mx-3",attrs:{id:"filter"}},[e(m.Z,{staticClass:"mt-6",attrs:{dense:"",outlined:"",placeholder:"Filtruj...",clearable:""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),e(_.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:r}){return[e(s.Z,t._g(t._b({staticClass:"mt-4 ml-2",attrs:{disabled:t.updating,loading:t.updating,fab:""},on:{click:t.update}},"v-btn",r,!1),n),[e(v.Z,[t._v("mdi-refresh")])],1)]}}])},[t._v(" "),e("span",[t._v("Odśwież listę celi ręcznie")])])],1),t._v(" "),e(f),t._v(" "),e("div",{staticClass:"pa-2",staticStyle:{height:"100%",overflow:"auto"}},[e("div",{attrs:{id:"open-milestones"}},[t._l(t.milestones,(function(n){return[n.name.toLowerCase().includes(t.filter)&&t.total.raw<n.amount?e("reader-panel-milestone",{key:n.name,attrs:{milestone:n,met:t.total.raw>=n.amount,total:t.total.raw}}):t._e()]}))],2),t._v(" "),e("div",{attrs:{id:"closed-milestones"}},[t._l(t.milestones,(function(n){return[n.name.toLowerCase().includes(t.filter)&&t.total.raw>=n.amount?e("reader-panel-milestone",{key:n.name,attrs:{milestone:n,met:t.total.raw>=n.amount,total:t.total.raw}}):t._e()]}))],2)])],1)}),[],!1,null,"bfa0bd5e",null).exports,N={name:"HostPanelCountdown",props:["hostCountdownReplicant"],computed:{countdownStyles(){const t=this.hostCountdownReplicant.raw/1e3;let e=48,n="#357C3C";return t<=0?(n="#FF5959",e=Math.min(48+2*-t,380)):t<=30&&(n="#FFC300"),{color:n,fontSize:`${e}px`}}}},W=(0,c.Z)(N,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"grey darken-4 rounded-lg",style:{textAlign:"center",width:"1200px"}},[e("h3",{staticClass:"grey darken-3 pa-1 rounded-tl-lg rounded-tr-lg",staticStyle:{width:"100%","text-align":"center",position:"sticky"}},[t._v("\n    POZOSTAŁY CZAS\n  ")]),t._v(" "),e("b",[e("span",{style:t.countdownStyles},[t._v(t._s(t.hostCountdownReplicant.formatted))])])])}),[],!1,null,"774a8421",null).exports;var I,$=(I=function(t,e){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},I(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),U=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};const G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $(e,t),e.prototype.switchToIntermission=function(){nodecg.sendMessage("switchFromHostScreen")},U([u.aD],e.prototype,"allBids",void 0),U([u.aD],e.prototype,"total",void 0),U([u.aD],e.prototype,"milestones",void 0),U([u.aD],e.prototype,"hostCountdownReplicant",void 0),U([(0,d.wA)({components:{ReaderPanelTotal:p,ReaderPanelBids:E,ReaderPanelMilestones:A,HostPanelCountdown:W}})],e)}(d.w3),H=(0,c.Z)(G,(function(){var t=this,e=t._self._c;return t._self._setupProxy,e(a.Z,[e(l.Z,{attrs:{fluid:""}},[e("div",{attrs:{id:"host-container"}},[e("div",[e("host-panel-countdown",{staticClass:"panel",attrs:{hostCountdownReplicant:t.hostCountdownReplicant}})],1),t._v(" "),e("div",{staticClass:"break"}),t._v(" "),e("div",{staticClass:"column",attrs:{id:"left"}},[e("reader-panel-bids",{staticClass:"panel",attrs:{bids:t.allBids}})],1),t._v(" "),e("div",{staticClass:"column",attrs:{id:"right"}},[e("reader-panel-total",{staticClass:"panel",attrs:{total:t.total}}),t._v(" "),e(s.Z,{on:{click:t.switchToIntermission}},[t._v("Awaryjny przycisk zmiany na przerwę")]),t._v(" "),e("reader-panel-milestones",{staticClass:"panel",attrs:{milestones:t.milestones,total:t.total}})],1)])])],1)}),[],!1,null,null,null).exports;var Y=n(6271),J=n(2276),q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();i.ZP.use(Y.ZP);var K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return q(e,t),Object.defineProperty(e.prototype,"reps",{get:function(){return this.context.rootState.ReplicantModule.reps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allBids",{get:function(){return this.reps.allBids},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"total",{get:function(){return this.reps.totalReplicant},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"milestones",{get:function(){return this.reps.milestonesReplicant},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostCountdownReplicant",{get:function(){return this.reps.hostCountdownReplicant},enumerable:!1,configurable:!0}),function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([(0,J.Yl)({name:"OurModule"})],e)}(J.g4),Q=new Y.yh({strict:!1,state:{},modules:{ReplicantModule:r.np,OurModule:K}});const V=Q;(0,J.rT)(K,Q),(0,r.rl)(V).then((function(){new i.ZP({vuetify:o.Z,store:V,el:"#App",render:function(t){return t(H)}})}))},3229:(t,e,n)=>{n.d(e,{Z:()=>s,d:()=>a});var r=n(3231),o=n(4160);const i={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function a(t=[]){return r.ZP.extend({name:"positionable",props:t.length?(0,o.ji)(i,t):i})}const s=a()}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,o,i]=t[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var d=o();void 0!==d&&(e=d)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={865:0,505:0,752:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[a,s,l]=n,d=0;if(a.some((e=>0!==t[e]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(e&&e(n);d<a.length;d++)i=a[d],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=r.O(void 0,[797,298,361,311,505,450,151,752,807,409,725],(()=>r(9901)));o=r.O(o)})();