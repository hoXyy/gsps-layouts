(()=>{"use strict";var e,t={4006:(e,t,n)=>{var a,i=n(1151),s=n(9193),r=n(3231),o=n(5287),l=n(9526),d=n(5506),c=n(6271),p=n(2276),u=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e,t,n,a){var i,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};r.ZP.use(c.ZP);var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),Object.defineProperty(t.prototype,"reps",{get:function(){return this.context.rootState.ReplicantModule.reps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allBids",{get:function(){return this.reps.allBids},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"donationsToRead",{get:function(){return this.reps.donationsToRead},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this.reps.totalReplicant},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reader",{get:function(){return this.reps.readerReplicant},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"milestones",{get:function(){return this.reps.milestonesReplicant},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timer",{get:function(){return this.reps.timerReplicant},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeRun",{get:function(){return this.reps.activeRunReplicant},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"donationsToAccept",{get:function(){return this.reps.donationsToAccept},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bidsToAccept",{get:function(){return this.reps.bidsToAccept},enumerable:!1,configurable:!0}),t.prototype.updateReader=function(e){i.OV.setReplicant({name:"readerReplicant",val:e})},v([(0,p.aU)({rawError:!0})],t.prototype,"updateReader",null),v([(0,p.Yl)({name:"OurModule"})],t)}(p.g4),f=new c.yh({strict:!1,state:{},modules:{ReplicantModule:i.np,OurModule:h}});const m=f;var _=(0,p.rT)(h,f),g=n(8209);var b=n(1902);const y=(0,b.Z)({name:"ReaderPanelTotal",props:["total"]},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"grey darken-4 rounded-lg",style:{textAlign:"center"}},[t("b",{style:{fontSize:"48px"}},[e._v(e._s(e.total.formatted))])])}),[],!1,null,"eb5e18c0",null).exports;var x=n(6324),w=n(8895),C=n(6010),k=n(1994),P=n(1197),R=n(6655),Z=n(526),A=n(4355),O=n(3474),T=n.n(O),D=n(8578),j=n.n(D),z=n(469),S=n.n(z),L=n(5381),B=n.n(L),E=n(9298),F=n.n(E),M=n(8979),$=n.n(M);T().extend(j()),T().extend(B()),T().extend(F()),T().extend(S());const I={name:"ReaderPanelBidGoal",props:["bid"],computed:{progress:{get(){return(this.bid.rawTotal/this.bid.rawGoal*100).toFixed(1)}},amountLeft:{get(){return(this.bid.rawGoal-this.bid.rawTotal).toFixed(0)}},etaUntil(){return this.bid.runStartTime?T().unix(this.bid.runStartTime/1e3).tz("Europe/Warsaw").locale($()).fromNow(!0):void 0},formattedDate(){return T().unix(this.bid.runStartTime/1e3).tz("Europe/Warsaw").locale($()).format("LLL")}}},q=(0,b.Z)(I,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"rounded pa-2 ma-1 darken-3",class:"CLOSED"===e.bid.state?"green":"grey",staticStyle:{border:"1px solid white"}},[t(A.Z,{attrs:{"no-gutters":""}},[t(Z.Z,{attrs:{cols:"12"}},[t("h2",{style:{overflowWrap:"break-word"}},[e._v("\n        "+e._s(e.bid.game)+" - "+e._s(e.bid.name)+"\n      ")]),e._v(" "),t("h5",[t(R.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:a}){return[e.etaUntil?t("i",e._g(e._b({},"i",a,!1),n),[e._v("Ten run odbędzie się planowo za ok. "+e._s(e.etaUntil))]):e._e()]}}])},[e._v(" "),t("span",[e._v(e._s(e.formattedDate))])])],1),e._v(" "),e.bid.longDescription?t("h5",[e._v(e._s(e.bid.longDescription))]):e._e()]),e._v(" "),t(k.Z,{attrs:{value:e.progress,rounded:"",height:"19"}},[[t("strong",[e._v(e._s(e.bid.total)+" / "+e._s(e.bid.goal)+"\n          "),"CLOSED"!=e.bid.state?[e._v("\n            (Pozostało "+e._s(e.amountLeft)+" zł)")]:e._e()],2)]],2)],1)],1)}),[],!1,null,null,null).exports;T().extend(j()),T().extend(B()),T().extend(F()),T().extend(S());const N={name:"ReaderPanelBidWar",props:["bid"],methods:{getProgress(e){return(e.rawTotal/this.bid.rawTotal*100).toFixed(1)}},computed:{etaUntil(){return this.bid.runStartTime?T().unix(this.bid.runStartTime/1e3).tz("Europe/Warsaw").locale($()).fromNow(!0):void 0},formattedDate(){return T().unix(this.bid.runStartTime/1e3).tz("Europe/Warsaw").locale($()).format("LLL")}}},W={name:"ReaderPanelBids",data:()=>({bidfilter:"",updating:!1,refreshTimer:void 0,timeLeft:20,timestamp:Date.now()}),components:{ReaderPanelBidGoal:q,ReaderPanelBidWar:(0,b.Z)(N,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"rounded pa-2 ma-1 darken-3",class:"CLOSED"===e.bid.state?"green":"grey",staticStyle:{border:"1px solid white"}},[t(A.Z,{attrs:{"no-gutters":""}},[t(Z.Z,{attrs:{cols:"12"}},[t("h2",{style:{overflowWrap:"break-word"}},[e._v("\n        "+e._s(e.bid.game)+" - "+e._s(e.bid.name)+"\n      ")]),e._v(" "),t("h5",[t(R.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:a}){return[e.etaUntil?t("i",e._g(e._b({},"i",a,!1),n),[e._v("Ten run odbędzie się planowo za ok. "+e._s(e.etaUntil))]):e._e()]}}])},[e._v(" "),t("span",[e._v(e._s(e.formattedDate))])])],1),e._v(" "),e.bid.longDescription?t("h5",[e._v(e._s(e.bid.longDescription))]):e._e()]),e._v(" "),t("div",{staticStyle:{width:"100%"}},[e._l(e.bid.options,(function(n,a){return e.bid.options.length>0?[t("h3",{style:{overflowWrap:"break-word"}},[e._v("\n          "+e._s(a+1)+". "+e._s(n.name)+" - "+e._s(n.total)+"\n        ")]),e._v(" "),t(k.Z,{attrs:{value:e.getProgress(n),rounded:"",height:"10"}})]:t("h3",[e._v("Brak opcji")])}))],2)],1)],1)}),[],!1,null,null,null).exports},props:["bids"],methods:{bidName:e=>`${e.game} - ${e.name}`.toLowerCase(),updateBids(){nodecg.sendMessage("updateBids")},startRefreshCountdown(){this.refreshTimer=setInterval((()=>{1==this.timeLeft&&(clearInterval(this.refreshTimer),this.timeLeft=0),this.timeLeft-=1}),1e3)}},mounted(){nodecg.listenFor("bids:updating",(()=>{clearInterval(this.refreshTimer),this.updating=!0})),nodecg.listenFor("bids:updated",(()=>{this.timeLeft=20,this.startRefreshCountdown(),this.updating=!1,this.timestamp=Date.now()})),this.startRefreshCountdown()}},U=(0,b.Z)(W,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"grey darken-4 rounded-lg",staticStyle:{height:"800px",width:"750px",display:"flex","flex-direction":"column"},attrs:{id:"bids"}},[t("h3",{staticClass:"grey darken-3 pa-1 rounded-tl-lg rounded-tr-lg",staticStyle:{width:"100%","text-align":"center",position:"sticky"}},[e._v("\n      LICYTACJE\n    ")]),e._v(" "),t("div",{attrs:{id:"refreshCountdown"}},[t(k.Z,{attrs:{indeterminate:e.updating,value:(e.timeLeft/20*100).toFixed(1),height:"12"}}),e._v(" "),t("div",{staticClass:"mt-3"},[e.updating?t("p",[e._v("Odświeżam...")]):t("p",[e._v("\n          Odświeżam za "),t("b",[e._v(e._s(e.timeLeft))]),e._v(" sekund...\n        ")])])],1),e._v(" "),t(w.Z),e._v(" "),t("div",{staticClass:"mx-3",attrs:{id:"filter"}},[t(P.Z,{staticClass:"mt-6",attrs:{dense:"",outlined:"",placeholder:"Filtruj...",clearable:""},model:{value:e.bidfilter,callback:function(t){e.bidfilter=t},expression:"bidfilter"}}),e._v(" "),t(R.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:a}){return[t(x.Z,e._g(e._b({staticClass:"mt-4 ml-2",attrs:{disabled:e.updating,loading:e.updating,fab:""},on:{click:e.updateBids}},"v-btn",a,!1),n),[t(C.Z,[e._v("mdi-refresh")])],1)]}}])},[e._v(" "),t("span",[e._v("Odśwież licytacje ręcznie")])])],1),e._v(" "),t(w.Z),e._v(" "),t("div",{staticClass:"pa-2",staticStyle:{height:"100%",overflow:"auto"}},[t("div",{attrs:{id:"open-bids"}},[e._l(e.bids,(function(n){return["challenge"===n.type&&e.bidName(n).includes(e.bidfilter)&&"OPENED"===n.state?t("reader-panel-bid-goal",{key:e.timestamp+n.id,attrs:{bid:n}}):e._e(),e._v(" "),"challenge"!=n.type&&e.bidName(n).includes(e.bidfilter)&&"OPENED"===n.state?t("reader-panel-bid-war",{key:e.timestamp+n.id,attrs:{bid:n}}):e._e()]}))],2),e._v(" "),t("div",{attrs:{id:"closed-bids"}},[e._l(e.bids,(function(n){return["challenge"===n.type&&e.bidName(n).includes(e.bidfilter)&&"CLOSED"===n.state?t("reader-panel-bid-goal",{key:e.timestamp+n.id,attrs:{bid:n}}):e._e(),e._v(" "),"challenge"!=n.type&&e.bidName(n).includes(e.bidfilter)&&"CLOSED"===n.state?t("reader-panel-bid-war",{key:e.timestamp+n.id,attrs:{bid:n}}):e._e()]}))],2)])],1)])}),[],!1,null,"e3709fbe",null).exports,H={name:"ReaderPanelReader",props:["reader"],data:()=>({readerField:"",readerAlert:!1}),methods:{updateReader(){this.$emit("update",this.readerField),this.readerField=""},sendAlert(){this.readerAlert=!this.readerAlert,nodecg.sendMessage("toggleAlert")}},computed:{alertButtonStyles(){if(this.readerAlert)return{"background-color":"#FFC300"}}}},K=(0,b.Z)(H,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"grey darken-4 rounded-lg px-4 py-2",style:{fontSize:"24px"}},[e._v("\n  Obecny czytający:\n  "),e.reader?[t("b",[e._v(e._s(e.reader))])]:e._e(),e._v(" "),t("div",{staticClass:"mt-5",style:{display:"flex",flexDirection:"row"}},[t(P.Z,{attrs:{dense:"",outlined:""},model:{value:e.readerField,callback:function(t){e.readerField=t},expression:"readerField"}}),e._v(" "),t(x.Z,{staticClass:"ml-3",on:{click:e.updateReader}},[e._v("Aktualizuj czytającego")])],1),e._v(" "),t(x.Z,{style:e.alertButtonStyles,attrs:{block:""},on:{click:e.sendAlert}},[e.readerAlert?[e._v("Usuń powiadomienie")]:[e._v("Daj runnerowi znać, że chcesz coś powiedzieć")]],2)],2)}),[],!1,null,null,null).exports,G={name:"ReaderPanelMilestone",props:["milestone","met","total"],computed:{progress:{get(){return(this.total/this.milestone.amount*100).toFixed(1)}},amountLeft:{get(){return(this.milestone.amount-this.total).toFixed(0)}}}},J={name:"ReaderPanelMilestones",props:["milestones","total"],data:()=>({filter:"",updating:!1}),components:{ReaderPanelMilestone:(0,b.Z)(G,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"rounded pa-2 ma-1 darken-3",class:e.met?"green":"grey",staticStyle:{border:"1px solid white"}},[t(A.Z,{attrs:{"no-gutters":""}},[t(Z.Z,{attrs:{cols:"12"}},[t("h2",[e._v(e._s(e.milestone.name))])]),e._v(" "),t(k.Z,{attrs:{value:e.progress,rounded:"",height:"19"}},[[t("strong",[e._v(e._s(e.total)+" zł / "+e._s(e.milestone.amount)+" zł\n          "),e.met?e._e():[e._v("\n            (Pozostało "+e._s(e.amountLeft)+" zł)")]],2)]],2)],1)],1)}),[],!1,null,null,null).exports},methods:{update(){nodecg.sendMessage("updateMilestones")}},mounted(){nodecg.listenFor("milestones:updating",(()=>{clearInterval(this.refreshTimer),this.updating=!0})),nodecg.listenFor("milestones:updated",(()=>{this.updating=!1}))}},V=(0,b.Z)(J,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"grey darken-4 rounded-lg",staticStyle:{height:"617px",width:"500px",display:"flex","flex-direction":"column"},attrs:{id:"milestones"}},[t("h3",{staticClass:"grey darken-3 pa-1 rounded-tl-lg rounded-tr-lg",staticStyle:{width:"100%","text-align":"center",position:"sticky"}},[e._v("\n    CELE\n  ")]),e._v(" "),t("div",{staticClass:"mx-3",attrs:{id:"filter"}},[t(P.Z,{staticClass:"mt-6",attrs:{dense:"",outlined:"",placeholder:"Filtruj..."},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),t(R.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:a}){return[t(x.Z,e._g(e._b({staticClass:"mt-4 ml-2",attrs:{disabled:e.updating,loading:e.updating,fab:"",clearable:""},on:{click:e.update}},"v-btn",a,!1),n),[t(C.Z,[e._v("mdi-refresh")])],1)]}}])},[e._v(" "),t("span",[e._v("Odśwież listę celi ręcznie")])])],1),e._v(" "),t(w.Z),e._v(" "),t("div",{staticClass:"pa-2",staticStyle:{height:"100%",overflow:"auto"}},[t("div",{attrs:{id:"open-milestones"}},[e._l(e.milestones,(function(n){return[n.name.toLowerCase().includes(e.filter)&&e.total.raw<n.amount?t("reader-panel-milestone",{key:n.name,attrs:{milestone:n,met:e.total.raw>=n.amount,total:e.total.raw}}):e._e()]}))],2),e._v(" "),t("div",{attrs:{id:"closed-milestones"}},[e._l(e.milestones,(function(n){return[n.name.toLowerCase().includes(e.filter)&&e.total.raw>=n.amount?t("reader-panel-milestone",{key:n.name,attrs:{milestone:n,met:e.total.raw>=n.amount,total:e.total.raw}}):e._e()]}))],2)])],1)}),[],!1,null,"129b1625",null).exports,Y=(0,b.Z)({name:"ReaderPanelRunStatus",props:["run","timer"],methods:{formatPlayers:e=>e.players.map((e=>e.name)).join(", ")}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"grey darken-4 rounded-lg",style:{textAlign:"center",width:"500px"}},[t("div",{attrs:{id:"timer"}},[t("b",[e._v(e._s(e.timer.time))])]),e._v(" "),t(w.Z),e._v(" "),e.run?t("div",{attrs:{id:"run"}},[t("p",{style:{fontSize:"20px"}},[t("b",[e._v(e._s(e.run.game))])]),e._v(" "),t("p",[e._v(e._s(e.run.category))]),e._v(" "),t(w.Z),e._v(" "),t("div",{staticClass:"px-5 py-2",attrs:{id:"players"}},e._l(e.run.teams,(function(n){return t("div",{key:n.id,style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"}},[t("p",{style:{float:"left"}},[e._v(e._s(e.formatPlayers(n)))]),e._v(" "),e.timer.teamFinishTimes[n.id]?t("p",{style:{float:"right",textAlign:"right"}},[e._v("\n          "+e._s(e.timer.teamFinishTimes[n.id].time)+"\n        ")]):t("p",[e._v("W trakcie")])])})),0)],1):e._e()],1)}),[],!1,null,"5ad9419a",null).exports;var Q=n(1222),X=n(4061);const ee=Q.y.extend({name:"v-expansion-panels",provide(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes(){return{...Q.y.options.computed.classes.call(this),"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile}}},created(){this.$attrs.hasOwnProperty("expand")&&(0,X.fK)("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"==typeof this.value[0]&&(0,X.fK)(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem(e,t){const n=this.getValue(e,t),a=this.getValue(e,t+1);e.isActive=this.toggleMethod(n),e.nextIsActive=this.toggleMethod(a)}}});var te=n(5921),ne=n(1778),ae=n(4160),ie=n(4456);const se=(0,ie.Z)((0,te.d)("expansionPanels","v-expansion-panel","v-expansion-panels"),(0,ne.J)("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:()=>({content:null,header:null,nextIsActive:!1}),computed:{classes(){return{"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled,...this.groupClasses}},isDisabled(){return this.expansionPanels.disabled||this.disabled},isReadonly(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent(e){this.content=e},unregisterContent(){this.content=null},registerHeader(e){this.header=e,e.$on("click",this.onClick)},unregisterHeader(){this.header=null},onClick(e){e.detail&&this.header.$el.blur(),this.$emit("click",e),this.isReadonly||this.isDisabled||this.toggle()},toggle(){this.$nextTick((()=>this.$emit("change")))}},render(e){return e("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},(0,ae.z9)(this))}});var re=n(4722),oe=n(3362),le=n(1352);const de=(0,ie.Z)(oe.Z,le.Z,(0,ne.f)("expansionPanel","v-expansion-panel-content","v-expansion-panel")).extend().extend({name:"v-expansion-panel-content",data:()=>({isActive:!1}),computed:{parentIsActive(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler(e,t){e&&(this.isBooted=!0),null==t?this.isActive=e:this.$nextTick((()=>this.isActive=e))}}},created(){this.expansionPanel.registerContent(this)},beforeDestroy(){this.expansionPanel.unregisterContent()},render(e){return e(re.Fx,this.showLazyContent((()=>[e("div",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:this.isActive}]}),[e("div",{class:"v-expansion-panel-content__wrap"},(0,ae.z9)(this))])])))}});var ce=n(1421),pe=n(2559);const ue=(0,ie.Z)(le.Z,(0,ne.f)("expansionPanel","v-expansion-panel-header","v-expansion-panel")).extend().extend({name:"v-expansion-panel-header",directives:{ripple:pe.Z},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:()=>({hasMousedown:!1}),computed:{classes(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive(){return this.expansionPanel.isActive},isDisabled(){return this.expansionPanel.isDisabled},isReadonly(){return this.expansionPanel.isReadonly}},created(){this.expansionPanel.registerHeader(this)},beforeDestroy(){this.expansionPanel.unregisterHeader()},methods:{onClick(e){this.$emit("click",e)},genIcon(){const e=(0,ae.z9)(this,"actions")||[this.$createElement(ce.Z,this.expandIcon)];return this.$createElement(re.Z5,[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},e)])}},render(e){return e("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.$listeners,click:this.onClick,mousedown:()=>this.hasMousedown=!0,mouseup:()=>this.hasMousedown=!1}}),[(0,ae.z9)(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),ve=nodecg.Replicant("allBids");T().extend(j()),T().extend(B()),T().extend(F()),T().extend(S());const he={name:"ReaderPanelDonation",props:["donation"],methods:{formatAmount:e=>e.toFixed(2),formatDate:e=>T().unix(e/1e3).tz("Europe/Warsaw").locale($()).format("LLL"),getBidName(e){let t;return Array.from(ve.value).forEach((n=>{n.id===e&&(t=`${n.game} - ${n.name}`)})),t||(Array.from(ve.value).filter((e=>"challenge"!=e.type)).forEach((n=>{n.options.forEach((a=>{a.id===e&&(console.log(`found id ${e}`),t=`${n.game} - ${n.name} - ${a.name}`)}))})),t)},setDonationAsRead(){nodecg.sendMessage("setDonationAsRead",this.donation.id)}}},fe={name:"ReaderPanelDonations",props:["donations","donationsToAccept","bidsToAccept"],components:{ReaderPanelDonation:(0,b.Z)(he,(function(){var e=this,t=e._self._c;return t(se,[t(ue,[e._v(e._s(e.donation.name)+" -\n    "+e._s(e.formatAmount(e.donation.amount))+" zł")]),e._v(" "),t(de,[t("div",{style:{width:"100%"}},[t("p",[t("b",[e._v("Wpłacający: ")]),e._v(e._s(e.donation.name))]),e._v(" "),t("p",[t("b",[e._v("Kwota: ")]),e._v(e._s(e.formatAmount(e.donation.amount))+" zł")]),e._v(" "),t("p",[t("b",[e._v("Wpłacono: ")]),e._v(e._s(e.formatDate(e.donation.timestamp)))]),e._v(" "),t("div",[t("p",[t("b",[e._v("Komentarz")])]),e._v(" "),t("p",[e._v(e._s(e.donation.comment))])]),e._v(" "),e.donation.bid&&e.donation.bid.length?t("p",[t("b",[e._v("Licytacje")])]):e._e(),e._v(" "),e._l(e.donation.bid,(function(n){return e.donation.bid&&e.donation.bid.length?[t("p",{key:n.id},[e._v(e._s(e.getBidName(n.id))+" - "+e._s(n.amount)+" zł")])]:e._e()})),e._v(" "),t(x.Z,{attrs:{block:"",color:"primary"},on:{click:e.setDonationAsRead}},[e._v("Zaznacz donację jako przeczytaną")])],2)])],1)}),[],!1,null,null,null).exports},data:()=>({filter:"",updating:!1,refreshTimer:void 0,timeLeft:10}),methods:{updateDonations(){nodecg.sendMessage("updateDonations")},startRefreshCountdown(){this.refreshTimer=setInterval((()=>{1==this.timeLeft&&(clearInterval(this.refreshTimer),this.timeLeft=0),this.timeLeft-=1}),1e3)}},mounted(){nodecg.listenFor("donationsToRead:updating",(()=>{clearInterval(this.refreshTimer),this.updating=!0})),nodecg.listenFor("donationsToRead:updated",(()=>{this.timeLeft=10,this.startRefreshCountdown(),this.updating=!1})),this.startRefreshCountdown()}},me=(0,b.Z)(fe,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"grey darken-4 rounded-lg",staticStyle:{height:"959px",width:"550px",display:"flex","flex-direction":"column"},attrs:{id:"donations"}},[t("h3",{staticClass:"grey darken-3 pa-1 rounded-tl-lg rounded-tr-lg",staticStyle:{width:"100%","text-align":"center",position:"sticky"}},[e._v("\n    DONACJE DO PRZECZYTANIA\n  ")]),e._v(" "),t("div",{attrs:{id:"refreshCountdown"}},[t(k.Z,{attrs:{indeterminate:e.updating,value:(e.timeLeft/10*100).toFixed(1),height:"12"}}),e._v(" "),t("div",{staticClass:"mt-3"},[e.updating?t("p",[e._v("Odświeżam...")]):t("p",[e._v("\n        Odświeżam za "),t("b",[e._v(e._s(e.timeLeft))]),e._v(" sekund...\n      ")])])],1),e._v(" "),t(w.Z),e._v(" "),t("div",{staticClass:"mx-3",attrs:{id:"filter"}},[t(P.Z,{staticClass:"mt-6",attrs:{dense:"",outlined:"",placeholder:"Filtruj...",clearable:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),t(R.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:a}){return[t(x.Z,e._g(e._b({staticClass:"mt-4 ml-2",attrs:{disabled:e.updating,loading:e.updating,fab:""},on:{click:e.updateDonations}},"v-btn",a,!1),n),[t(C.Z,[e._v("mdi-refresh")])],1)]}}])},[e._v(" "),t("span",[e._v("Odśwież donacje ręcznie")])])],1),e._v(" "),t(w.Z),e._v(" "),t("div",{staticClass:"pa-2"},[e._v("\n    Donacje do zaakceptowania: "),t("b",[e._v(e._s(e.donationsToAccept))])]),e._v(" "),t("div",{staticClass:"pa-2"},[e._v("\n    Bidy do zaakceptowania: "),t("b",[e._v(e._s(e.bidsToAccept))])]),e._v(" "),t(w.Z),e._v(" "),t("div",{staticClass:"pa-2",staticStyle:{height:"100%",overflow:"auto"}},[e.donations&&e.donations.length?t(ee,{attrs:{accordion:""}},e._l(e.donations,(function(n){return n.name.toLowerCase().includes(e.filter)?t("reader-panel-donation",{key:n.id,attrs:{donation:n}}):e._e()})),1):t("p",{style:{width:"100%",textAlign:"center"}},[e._v("\n      Brak donacji do przeczytania\n    ")])],1)],1)}),[],!1,null,"3d47e658",null).exports;var _e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ge=function(e,t,n,a){var i,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};const be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.updateReader=function(e){_.updateReader(e)},ge([g.aD],t.prototype,"allBids",void 0),ge([g.aD],t.prototype,"total",void 0),ge([g.aD],t.prototype,"donationsToRead",void 0),ge([g.aD],t.prototype,"reader",void 0),ge([g.aD],t.prototype,"milestones",void 0),ge([g.aD],t.prototype,"timer",void 0),ge([g.aD],t.prototype,"activeRun",void 0),ge([g.aD],t.prototype,"donationsToAccept",void 0),ge([g.aD],t.prototype,"bidsToAccept",void 0),ge([(0,d.wA)({components:{ReaderPanelTotal:y,ReaderPanelBids:U,ReaderPanelReader:K,ReaderPanelMilestones:V,ReaderPanelRunStatus:Y,ReaderPanelDonations:me}})],t)}(d.w3),ye=(0,b.Z)(be,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t(o.Z,[t(l.Z,{attrs:{fluid:""}},[t("div",{attrs:{id:"host-container"}},[t("div",{staticClass:"column",attrs:{id:"left"}},[t("reader-panel-reader",{staticClass:"panel",attrs:{reader:e.reader},on:{update:e.updateReader}}),e._v(" "),t("reader-panel-bids",{staticClass:"panel",attrs:{bids:e.allBids}})],1),e._v(" "),t("div",{staticClass:"column",attrs:{id:"middle"}},[t("reader-panel-total",{staticClass:"panel",attrs:{total:e.total}}),e._v(" "),t("reader-panel-run-status",{staticClass:"panel",attrs:{timer:e.timer,run:e.activeRun}}),e._v(" "),t("reader-panel-milestones",{staticClass:"panel",attrs:{milestones:e.milestones,total:e.total}})],1),e._v(" "),t("div",{staticClass:"column",attrs:{id:"right"}},[t("reader-panel-donations",{staticClass:"panel",attrs:{donations:e.donationsToRead,donationsToAccept:e.donationsToAccept,bidsToAccept:e.bidsToAccept}})],1)])])],1)}),[],!1,null,null,null).exports;(0,i.rl)(m).then((function(){new r.ZP({vuetify:s.Z,store:m,el:"#App",render:function(e){return e(ye)}})}))},4722:(e,t,n)=>{n.d(t,{Fx:()=>o,Qn:()=>r,Z5:()=>s});var a=n(882),i=n(7803);(0,a.q)("carousel-transition"),(0,a.q)("carousel-reverse-transition"),(0,a.q)("tab-transition"),(0,a.q)("tab-reverse-transition"),(0,a.q)("menu-transition"),(0,a.q)("fab-transition","center center","out-in"),(0,a.q)("dialog-transition"),(0,a.q)("dialog-bottom-transition"),(0,a.q)("dialog-top-transition");const s=(0,a.q)("fade-transition"),r=((0,a.q)("scale-transition"),(0,a.q)("scroll-x-transition"),(0,a.q)("scroll-x-reverse-transition"),(0,a.q)("scroll-y-transition"),(0,a.q)("scroll-y-reverse-transition"),(0,a.q)("slide-x-transition")),o=((0,a.q)("slide-x-reverse-transition"),(0,a.q)("slide-y-transition"),(0,a.q)("slide-y-reverse-transition"),(0,a.x)("expand-transition",(0,i.Z)()));(0,a.x)("expand-x-transition",(0,i.Z)("",!0))},1778:(e,t,n)=>{n.d(t,{J:()=>o,f:()=>r});var a=n(3231),i=n(4061);function s(e,t){return()=>(0,i.Kd)(`The ${e} component must be used inside a ${t}`)}function r(e,t,n){const i=t&&n?{register:s(t,n),unregister:s(t,n)}:null;return a.ZP.extend({name:"registrable-inject",inject:{[e]:{default:i}}})}function o(e,t=!1){return a.ZP.extend({name:"registrable-provide",provide(){return{[e]:t?this:{register:this.register,unregister:this.unregister}}}})}},9e3:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(678),i=n(1285),s=n(1248);function r(e,t={}){const n={container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0,...t},a=(0,s.Z)(n.container);if(n.appOffset&&r.framework.application){const e=a.classList.contains("v-navigation-drawer"),t=a.classList.contains("v-navigation-drawer--clipped"),{bar:i,top:s}=r.framework.application;n.offset+=i,e&&!t||(n.offset+=s)}const o=performance.now();let l;l="number"==typeof e?(0,s.o)(e)-n.offset:(0,s.o)(e)-(0,s.o)(a)-n.offset;const d=a.scrollTop;if(l===d)return Promise.resolve(l);const c="function"==typeof n.easing?n.easing:i[n.easing];if(!c)throw new TypeError(`Easing function "${n.easing}" not found.`);return new Promise((e=>requestAnimationFrame((function t(i){const s=i-o,r=Math.abs(n.duration?Math.min(s/n.duration,1):1);a.scrollTop=Math.floor(d+(l-d)*c(r));const p=(a===document.body?document.documentElement.clientHeight:a.clientHeight)+a.scrollTop>=a.scrollHeight;if(1===r||l>a.scrollTop&&p)return e(l);requestAnimationFrame(t)}))))}r.framework={},r.init=()=>{};class o extends a.t{constructor(){return super(),r}}o.property="goTo"}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}};return t[e].call(s.exports,s,s.exports,a),s.exports}a.m=t,e=[],a.O=(t,n,i,s)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){for(var[n,i,s]=e[c],o=!0,l=0;l<n.length;l++)(!1&s||r>=s)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(o=!1,s<r&&(r=s));if(o){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,i,s]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={228:0,505:0,752:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,s,[r,o,l]=n,d=0;if(r.some((t=>0!==e[t]))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(l)var c=l(a)}for(t&&t(n);d<r.length;d++)s=r[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=a.O(void 0,[797,298,361,311,505,898,752,807,409,248,725],(()=>a(4006)));i=a.O(i)})();